<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hệ Thống Giám Sát An Toàn</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>BẢNG ĐIỀU KHIỂN</h1>
            <p class="connection-status" id="connectionStatus">Đang kết nối...</p>
            
            <div class="global-controls">
                <div class="toggle-container">
                    <label class="toggle">
                        <input type="checkbox" id="alertToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label">Buzzer cảnh báo</span>
                </div>
                
                <div class="toggle-container">
                    <label class="toggle">
                        <input type="checkbox" id="ledToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label">LED cảnh báo</span>
                </div>
            </div>
        </header>

        <!-- Phòng 1 -->
        <div class="room-section" id="room1">
            <div class="room-header">
                <h2>Phòng 1</h2>
                <button class="settings-button" id="settingsBtn1"><i class="fas fa-cog"></i></button>
            </div>

            <div class="settings-panel" id="settingsPanel1">
                <h3>Thiết lập ngưỡng cảnh báo</h3>
                <div class="settings-row">
                    <div class="settings-item">
                        <label for="tempThreshold1">Ngưỡng nhiệt độ (°C):</label>
                        <input type="number" id="tempThreshold1" min="0" max="100" value="40">
                    </div>
                    <div class="settings-item">
                        <label for="humidityHighThreshold1">Ngưỡng độ ẩm cao (%):</label>
                        <input type="number" id="humidityHighThreshold1" min="0" max="100" value="80">
                    </div>
                </div>
                <button class="save-settings" id="saveSettings1">Lưu thiết lập</button>
            </div>

            <div class="dashboard">
                <div class="sensor-card" id="gasCard1">
                    <div class="sensor-icon">
                        <i class="fas fa-burn"></i>
                    </div>
                    <div class="sensor-info">
                        <h2>Khí Gas</h2>
                        <p class="sensor-value" id="gasValue1">--</p>
                        <p class="sensor-status" id="gasStatus1">Đang đọc dữ liệu...</p>
                        <div class="sensor-alert" id="gasAlert1">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span id="gasAlertText1"></span>
                        </div>
                    </div>
                </div>

                <div class="sensor-card" id="tempCard1">
                    <div class="sensor-icon">
                        <i class="fas fa-temperature-high"></i>
                    </div>
                    <div class="sensor-info">
                        <h2>Nhiệt Độ</h2>
                        <p class="sensor-value" id="temperatureValue1">-- °C</p>
                        <p class="sensor-status" id="tempStatus1">Đang đọc dữ liệu...</p>
                        <div class="sensor-alert" id="tempAlert1">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span id="tempAlertText1"></span>
                        </div>
                    </div>
                </div>

                <div class="sensor-card" id="humidityCard1">
                    <div class="sensor-icon">
                        <i class="fas fa-tint"></i>
                    </div>
                    <div class="sensor-info">
                        <h2>Độ Ẩm</h2>
                        <p class="sensor-value" id="humidityValue1">-- %</p>
                        <p class="sensor-status" id="humidityStatus1">Đang đọc dữ liệu...</p>
                        <div class="sensor-alert" id="humidityAlert1">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span id="humidityAlertText1"></span>
                        </div>
                    </div>
                </div>

                <div class="sensor-card" id="flameCard1">
                    <div class="sensor-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div class="sensor-info">
                        <h2>Phát Hiện Lửa</h2>
                        <p class="sensor-value" id="flameValue1">--</p>
                        <p class="sensor-status" id="flameStatus1">Đang đọc dữ liệu...</p>
                        <div class="sensor-alert" id="flameAlert1">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span id="flameAlertText1"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Phòng 2 -->
        <div class="room-section" id="room2">
            <div class="room-header">
                <h2>Phòng 2</h2>
                <button class="settings-button" id="settingsBtn2"><i class="fas fa-cog"></i></button>
            </div>

            <div class="settings-panel" id="settingsPanel2">
                <h3>Thiết lập ngưỡng cảnh báo</h3>
                <div class="settings-row">
                    <div class="settings-item">
                        <label for="tempThreshold2">Ngưỡng nhiệt độ (°C):</label>
                        <input type="number" id="tempThreshold2" min="0" max="100" value="40">
                    </div>
                    <div class="settings-item">
                        <label for="humidityHighThreshold2">Ngưỡng độ ẩm cao (%):</label>
                        <input type="number" id="humidityHighThreshold2" min="0" max="100" value="80">
                    </div>
                </div>
                <button class="save-settings" id="saveSettings2">Lưu thiết lập</button>
            </div>

            <div class="dashboard">
                <div class="sensor-card" id="gasCard2">
                    <div class="sensor-icon">
                        <i class="fas fa-burn"></i>
                    </div>
                    <div class="sensor-info">
                        <h2>Khí Gas</h2>
                        <p class="sensor-value" id="gasValue2">--</p>
                        <p class="sensor-status" id="gasStatus2">Đang đọc dữ liệu...</p>
                        <div class="sensor-alert" id="gasAlert2">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span id="gasAlertText2"></span>
                        </div>
                    </div>
                </div>

                <div class="sensor-card" id="tempCard2">
                    <div class="sensor-icon">
                        <i class="fas fa-temperature-high"></i>
                    </div>
                    <div class="sensor-info">
                        <h2>Nhiệt Độ</h2>
                        <p class="sensor-value" id="temperatureValue2">-- °C</p>
                        <p class="sensor-status" id="tempStatus2">Đang đọc dữ liệu...</p>
                        <div class="sensor-alert" id="tempAlert2">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span id="tempAlertText2"></span>
                        </div>
                    </div>
                </div>

                <div class="sensor-card" id="humidityCard2">
                    <div class="sensor-icon">
                        <i class="fas fa-tint"></i>
                    </div>
                    <div class="sensor-info">
                        <h2>Độ Ẩm</h2>
                        <p class="sensor-value" id="humidityValue2">-- %</p>
                        <p class="sensor-status" id="humidityStatus2">Đang đọc dữ liệu...</p>
                        <div class="sensor-alert" id="humidityAlert2">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span id="humidityAlertText2"></span>
                        </div>
                    </div>
                </div>

                <div class="sensor-card" id="flameCard2">
                    <div class="sensor-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div class="sensor-info">
                        <h2>Phát Hiện Lửa</h2>
                        <p class="sensor-value" id="flameValue2">--</p>
                        <p class="sensor-status" id="flameStatus2">Đang đọc dữ liệu...</p>
                        <div class="sensor-alert" id="flameAlert2">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span id="flameAlertText2"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    
    <!-- Script chính -->
    <script src="script.js"></script>
</body>
</html> 